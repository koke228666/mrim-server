# MRIM-Server
> [!WARNING]
> –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç WIP, –Ω–µ–ø–æ–ª–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞.

–≠–º—É–ª—è—Ç–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞ –ê–≥–µ–Ω—Ç Mail.ru, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª MRIM.

–°–µ—Ä–≤–µ—Ä –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤–µ—Ä—Å–∏–∏ 1.8 –¥–æ 1.22 (—á–∞—Å—Ç–∏—á–Ω–æ ). –ë–æ–ª–µ–µ –º–ª–∞–¥—à–∏–µ –≤–µ—Ä—Å–∏–∏ –ø–æ–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —ç—Ç–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

- –õ—é–±–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ x86_64 –∏–ª–∏ ARM64 (aarch64)
- –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ Windows, macOS –∏–ª–∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ —Å —è–¥—Ä–æ–º Linux (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–µ–µ)
- Node.js v16 –∏–ª–∏ –º–ª–∞–¥—à–µ, —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ v22 LTS
- MariaDB (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–µ–µ) –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π SQL —Å–µ—Ä–≤–µ—Ä

## –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

### –õ–µ–≥–µ–Ω–¥–∞

‚úÖ - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Å–µ—Ä–≤–µ—Ä–æ–º

üü° - –ß–∞—Å—Ç–∏—á–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Å–µ—Ä–≤–µ—Ä–æ–º (–µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±–∞–≥–∏)

üî¥ - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

| –°—Ç–∞—Ç—É—Å | –ö–ª–∏–µ–Ω—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| ------ | ------ | ----------- |
| ‚úÖ | –ê–≥–µ–Ω—Ç@Mail.ru –≤–µ—Ä—Å–∏–∏ 4.10 (—Å–±–æ—Ä–∫–∞ 1952) | üòé –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä: –°–æ–∑–¥–∞—Ç—å REG_SZ –≤ `HKCU\Software\Mail.Ru\Agent\strict_server` –≤ —Ñ–æ—Ä–º–∞—Ç–µ `IP:PORT` –ª–∏–±–æ `DOMAIN:PORT` |
| ‚úÖ | –ê–≥–µ–Ω—Ç@Mail.ru –≤–µ—Ä—Å–∏–∏ 5.0 (—Å–±–æ—Ä–∫–∞ 2094) | –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—ä–µ–∫—Ç–æ—Ä |
| ‚úÖ | –ê–≥–µ–Ω—Ç@Mail.ru –≤–µ—Ä—Å–∏–∏ 5.1 (—Å–±–æ—Ä–∫–∞ 2190) | –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—ä–µ–∫—Ç–æ—Ä (–ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è —Å UTF-16LE) |
| ‚úÖ | –ê–≥–µ–Ω—Ç@Mail.ru –≤–µ—Ä—Å–∏–∏ 5.5 (—Å–±–æ—Ä–∫–∞ 2842) | –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—ä–µ–∫—Ç–æ—Ä |
| ‚úÖ | –ê–≥–µ–Ω—Ç@Mail.ru –≤–µ—Ä—Å–∏–∏ 5.7 (—Å–±–æ—Ä–∫–∞ 3797) | –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—ä–µ–∫—Ç–æ—Ä |
| üü° | –ê–≥–µ–Ω—Ç@Mail.ru –≤–µ—Ä—Å–∏–∏ 5.9 (—Å–±–æ—Ä–∫–∞ 4876) | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç SSL. –û–±–æ–π—Ç–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤ –∫–ª—é—á `HKCU\Software\Mail.Ru\Agent\ssl` —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º `deny` |
| üü° | –ê–≥–µ–Ω—Ç@Mail.ru –≤–µ—Ä—Å–∏–∏ 6.5 (—Å–±–æ—Ä–∫–∞ 9316) | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç SSL. –û–±–æ–π—Ç–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤ –∫–ª—é—á `HKCU\Software\Mail.Ru\Agent\ssl` —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º `deny`. –í—ã–ª–µ—Ç–∞–µ—Ç –∏–ª–∏ –∑–∞–≤–∏—Å–∞–µ—Ç –µ—Å–ª–∏ —É –∫–æ–Ω—Ç–∞–∫—Ç–∞ –º–µ–Ω—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å |
| ‚úÖ | –ú–æ–±–∏–ª—å–Ω—ã–π –ê–≥–µ–Ω—Ç@mail.ru –≤–µ—Ä—Å–∏–∏ 1.1 | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π. üòé –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –º–µ–Ω—è–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö |
| ‚úÖ | –ú–æ–±–∏–ª—å–Ω—ã–π –ê–≥–µ–Ω—Ç@mail.ru –≤–µ—Ä—Å–∏–∏ 1.3 | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π. –ù–µ–æ–±—Ö–æ–¥–∏–º –ø–∞—Ç—á –∫–ª–∏–µ–Ω—Ç–∞ —Å–æ —Å–º–µ–Ω–æ–π –∞–¥—Ä–µ—Å–∞ |
| üî¥ | –ê–≥–µ–Ω—Ç@Mail.ru 2.0.0 –¥–ª—è Windows Mobile | –∫—Ä–∞—à–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –∏–∑-–∑–∞ –ø—É—Å—Ç–æ–≥–æ `MRIM_CS_LOGIN2` |
| ‚úÖ | Jimm aspro 0.6.0 —Å MRIM | –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å Windows-1251 –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö; –Ω–µ–æ–±—Ö–æ–¥–∏–º –ø–∞—Ç—á –∫–ª–∏–µ–Ω—Ç–∞ —Å–æ —Å–º–µ–Ω–æ–π –∞–¥—Ä–µ—Å–∞ |
| üü° | QIP Infium (—Å–±–æ—Ä–∫–∞ 9044) | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ –æ–¥–Ω–æ –º–µ—Å—Ç–æ. –ù–æ—Ä–º–∞–ª—å–Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UTF-16LE, –Ω–æ —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –∫–ª–∏–µ–Ω—Ç–∞. üòé –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å QIP –≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `/isolated`, —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å, –∏ —Ç–∞–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –ê–≥–µ–Ω—Ç–∞. –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö |

## –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ?

- –í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç
- –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∫–µ—Ç
- –ò–≥—Ä—ã (–Ω–∞ –≤–µ—Ä—Å–∏—è—Ö MRA 4.2 –¥–æ 4.10)
- Xstatus / –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã (MRA 5.0 –∏ –≤—ã—à–µ; MRIM 1.14 –∏ –≤—ã—à–µ)
- –ê–≤–∞—Ç–∞—Ä–∫–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–º–µ–Ω–∞ hosts –∏–ª–∏ –ø–∞—Ç—á –∫–ª–∏–µ–Ω—Ç–∞)

## –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ–ª–æ–≤–∏–Ω—É?

–í –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏/–∏–ª–∏ –ø—Ä–æ–∫—Å–∏ –º–µ–∂–¥—É –Ω–∏–º–∏:

- –ó–≤–æ–Ω–∫–∏
- –í–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤

## –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

- –ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏
- –ó–≤–æ–Ω–∫–∏ –Ω–∞ MRA >= 5.0
- –ò–≥—Ä—ã –Ω–∞ MRA >= 5.1
- –ê–Ω–∫–µ—Ç—ã –Ω–∞ MRA >= 5.1
- –ê–≤–∞—Ç–∞—Ä–∫–∏ –Ω–∞ MRA >= 5.4
- –ú–∏–∫—Ä–æ–±–ª–æ–≥ –Ω–∞ MRA >= 5.5

## Wontfix

- –ù–µ—Ä–∞–±–æ—á–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ú–æ–π –ú–∏—Ä, –ü–æ—á—Ç—É –∏ —Ç.–¥. (–Ω–µ –æ—á–µ–Ω—å –∏ –Ω—É–∂–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ç—á –∫–ª–∏–µ–Ω—Ç–∞, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∞–π—Ç–∞, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è MRIM_CS_GET_MPOP_SESSION)
- –û—Ç–ø—Ä–∞–≤–∫–∞ SMS (–≤–æ–∑–º–æ–∂–Ω–æ, –≤ –±—É–¥—É—â–µ–º, —ç—Ç–æ –±—É–¥–µ—Ç –∑–∞–∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º–æ)
